<div class="col col-lg-12 col-centered">
  <div class="col-lg-12 col-centered">
    <div class="col-lg-12 col-centered">
      <h3>
        Postagens
        <button class="text-right btn btn-outline-info btn-lg" type="button" (click)="add()">
          <i class="pi pi-plus-circle"></i>
        </button>
      </h3>
    </div>
    <div class="col-lg-12 col-centered">
      <table class="table">
        <thead>
          <th class="text-center">Título</th>
          <th class="text-center">Publicação</th>
          <th class="text-center">Autor</th>
          <th colspan="2" class="text-center">Ações</th>
        </thead>
        <tbody>
          <tr *ngFor="let post of posts$ | async">
            <td class="text-center">{{ post.title }}</td>
            <td class="text-center">{{ post.publicationDate }}</td>
            <td class="text-center">{{ post.author }}</td>
            <td class="text-right">
              <button type="button" class="btn btn-success" (click)="selectPost(post)">
                <i class="pi pi-user-edit"></i>
              </button>
            </td>
            <td class="text-left">
              <button type="button" class="btn btn-danger" (click)="delete(post)">
                <i class="pi pi-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="text-center">
        <a routerLink="/admin/panel" class="btn btn-primary">
          <i class="pi pi-search" aria-hidden="true"></i>
          Voltar
        </a>
      </div>
    </div>
  </div>
</div>

<p-dialog header="Dados da categoria" [style]="{width: '80vw'}" [(visible)]="displayDialogPost" [responsive]="true" [modal]="true">
  <form [formGroup]="formGroup" *ngIf="formGroup.value">
    <div class="mb-3">
      <label for="title" class="form-label">Título</label>
      <input type="text" class="form-control" id="titleInput" formControlName="title">
    </div>
    <div class="mb-3">
      <label for="body" class="form-label">Conteúdo</label>
      <p-editor formControlName="body" [style]="{'height':'320px'}"></p-editor>
    </div>
    <div class="p-d-flex p-jc-end m-1">
      <button [disabled]="!formGroup.valid" type="button" class="btn btn-primary" (click)="save()">
        <i class="pi pi-check-circle"></i> {{ edit ? 'Atualizar' : 'Salvar' }}
      </button>
    </div>
  </form>
</p-dialog>
